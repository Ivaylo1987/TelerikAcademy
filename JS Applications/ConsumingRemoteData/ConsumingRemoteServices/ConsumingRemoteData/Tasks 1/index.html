<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Requester</title>
    <script src="../Scripts/jquery-2.1.1.js"></script>
    <script src="scripts/requester.js"></script>
</head>
<body>
    <div>Please, open console for result.</div>
    <script>
        // the node.js server should be started to reach this destination.
        var destination = 'http://localhost:3000/students';
        var icko = { name: 'Hristo', grade: '5' };
        var pecko = { name: 'Petko', grade: '6' };

        // uncomment to create students or comment not to create.
        requester.postJSON(destination, icko);
        requester.postJSON(destination, pecko);

        var contentTypeHeader = { 'Content-Type': 'application/json; text', 'Accept-Language': 'en-US' };
        var rqheader = { 'Access-Control-Allow-Headers': 'x-requested-with, x-requested-by' };

        // used as promise
        requester.getJSON(destination, contentTypeHeader)
            .then(
            function success(data) {
                data.students.forEach(function (student) {
                    console.log(student);
                })
            },
            function error(error) {
                console.log(error);
            });

        // server should be amended for the delete to work, if not only hacks work.
        // requester.deleteByID(destination, 5, rqheader);
    </script>
</body>
</html>
